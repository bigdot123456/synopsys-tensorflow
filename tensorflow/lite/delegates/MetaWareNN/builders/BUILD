package(
    default_visibility = [
        "//visibility:public",
    ],
    licenses = ["notice"],  # Apache 2.0
)

cc_library(
    name = "model_builder",
    srcs = [
        "model_builder.cc",
        "metawarenn_lib/metawarenn_graph.cc",
        "metawarenn_lib/metawarenn_tensor.cc",
        "metawarenn_lib/metawarenn_node.cc",
        "metawarenn_lib/metawarenn_value_info.cc",
        "metawarenn_lib/metawarenn_attribute.cc",
        "metawarenn_lib/metawarenn_utils.cc",
        "metawarenn_lib/kernels/helpers/mli_helpers.cc",
        "metawarenn_lib/op/add.cc",
        "metawarenn_lib/op/avg_pool.cc",
        "metawarenn_lib/op/constant.cc",
        "metawarenn_lib/op/conv.cc",
        "metawarenn_lib/op/depthwise_conv.cc",
        "metawarenn_lib/op/input_data.cc",
        "metawarenn_lib/op/node.cc",
        "metawarenn_lib/op/relu.cc",
        "metawarenn_lib/op/reshape.cc",
        "metawarenn_lib/op/softmax.cc",
        "metawarenn_lib/op/transpose.cc",
        "metawarenn_lib/optimizer/metawarenn_optimizer.cc",
        "metawarenn_lib/optimizer/remove_reshape.cc",
        "metawarenn_lib/optimizer/fuse_relu.cc",
        "metawarenn_lib/optimizer/convert_layout.cc",
        "metawarenn_lib/optimizer/remove_transpose.cc",
        "metawarenn_lib/optimizer/pass_manager.cc",
    ],
    hdrs = [
        "model_builder.h",
        "metawarenn_lib/metawarenn_graph.h",
        "metawarenn_lib/metawarenn_tensor.h",
        "metawarenn_lib/metawarenn_node.h",
        "metawarenn_lib/metawarenn_value_info.h",
        "metawarenn_lib/metawarenn_attribute.h",
        "metawarenn_lib/metawarenn_utils.h",
        "metawarenn_lib/metawarenn_element.h",
        "metawarenn_lib/kernels/mli_krn_convolution_ref.h",
        "metawarenn_lib/kernels/mli_krn_avepool_hwc.h",
        "metawarenn_lib/kernels/mli_krn_eltwise_ref.h",
        "metawarenn_lib/kernels/include/mli_types.h",
        "metawarenn_lib/kernels/include/mli_api.h",
        "metawarenn_lib/kernels/include/mli_check.h",
        "metawarenn_lib/kernels/include/mli_config.h",
        "metawarenn_lib/kernels/include/mli_debug.h",
        "metawarenn_lib/kernels/include/mli_krn_convolution_decl.h",
        "metawarenn_lib/kernels/include/mli_krn_convolution.h",
        "metawarenn_lib/kernels/include/mli_krn_dotprod_decl.h",
        "metawarenn_lib/kernels/include/mli_krn_dotprod_ref.h",
        "metawarenn_lib/kernels/include/mli_krn_dotprod.h",
        "metawarenn_lib/kernels/include/mli_krn_eltwise_decl.h",
        "metawarenn_lib/kernels/include/mli_krn_reduce_sum2d_decl.h",
        "metawarenn_lib/kernels/include/mli_krn_reduce_sum2d_ref.h",
        "metawarenn_lib/kernels/include/mli_krn_reduce_sum2d.h",
        "metawarenn_lib/kernels/include/mli_math_macros.h",
        "metawarenn_lib/kernels/include/mli_math.h",
        "metawarenn_lib/kernels/include/mli_private_types.h",
        "metawarenn_lib/kernels/include/mli_prv_dsp.h",
        "metawarenn_lib/kernels/include/mli_prv_layout.h",
        "metawarenn_lib/kernels/include/mli_prv_load_store.h",
        "metawarenn_lib/kernels/include/mli_prv_quant_decl.h",
        "metawarenn_lib/kernels/include/mli_prv_quant_ref.h",
        "metawarenn_lib/kernels/include/mli_prv_quant.h",
        "metawarenn_lib/kernels/include/mli_prv_tensor.h",
        "metawarenn_lib/kernels/include/ref/mli_math.h",
        "metawarenn_lib/kernels/include/api/mli_helpers_api.h",
        "metawarenn_lib/kernels/include/api/mli_kernels_api.h",
        "metawarenn_lib/kernels/include/api/mli_krn_avepool_spec_api.h",
        "metawarenn_lib/kernels/include/api/mli_krn_conv2d_spec_api.h",
        "metawarenn_lib/kernels/include/api/mli_krn_depthwise_conv2d_spec_api.h",
        "metawarenn_lib/kernels/include/api/mli_krn_maxpool_spec_api.h",
        "metawarenn_lib/kernels/include/api/mli_mov_api.h",
        "metawarenn_lib/op/add.h",
        "metawarenn_lib/op/avg_pool.h",
        "metawarenn_lib/op/constant.h",
        "metawarenn_lib/op/conv.h",
        "metawarenn_lib/op/depthwise_conv.h",
        "metawarenn_lib/op/input_data.h",
        "metawarenn_lib/op/node.h",
        "metawarenn_lib/op/relu.h",
        "metawarenn_lib/op/reshape.h",
        "metawarenn_lib/op/softmax.h",
        "metawarenn_lib/op/transpose.h",
        "metawarenn_lib/optimizer/metawarenn_optimizer.h",
        "metawarenn_lib/optimizer/remove_reshape.h",
        "metawarenn_lib/optimizer/fuse_relu.h",
        "metawarenn_lib/optimizer/convert_layout.h",
        "metawarenn_lib/optimizer/remove_transpose.h",
        "metawarenn_lib/optimizer/pass_manager.h",
        "metawarenn_lib/tensorflow/lite/c/builtin_op_data.h",
        "metawarenn_lib/tensorflow/lite/c/common.h",
        "metawarenn_lib/tensorflow/lite/schema/schema_generated.h",
        "metawarenn_lib/tensorflow/lite/schema/flatbuffers/base.h",
        "metawarenn_lib/tensorflow/lite/schema/flatbuffers/flatbuffers.h",
        "metawarenn_lib/tensorflow/lite/schema/flatbuffers/stl_emulation.h",
        "metawarenn_lib/tensorflow/lite/builtin_op_data.h",
        "metawarenn_lib/tensorflow/lite/builtin_ops.h",
        "metawarenn_lib/metawarenn_common.h",
    ],
    tags = [
        "manual",
        "nobuilder",
    ],
)
